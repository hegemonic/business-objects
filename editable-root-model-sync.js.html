<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>DocStrap Source: editable-root-model-sync.js</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	<link type="text/css" rel="stylesheet" href="styles/site.cosmo.css">

</head>

<body>
<div class="container-fluid">
	<div class="navbar navbar-fixed-top navbar-inverse">
		<div class="navbar-inner">
			<a class="brand" href="index.html">DocStrap</a>
			<ul class="nav">
				
				<li class="dropdown">
					<a href="namespaces.list.html" class="dropdown-toggle" data-toggle="dropdown">Namespaces<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="bo.html">bo</a>
						</li>
						
						<li>
							<a href="bo.dataTypes.html">bo.dataTypes</a>
						</li>
						
						<li>
							<a href="common-rules.html">bo/common-rules</a>
						</li>
						
						<li>
							<a href="data-access.html">bo/data-access</a>
						</li>
						
						<li>
							<a href="rules.html">bo/rules</a>
						</li>
						
						<li>
							<a href="shared.html">bo/shared</a>
						</li>
						

					</ul>
				</li>
				
				<li class="dropdown">
					<a href="modules.list.html" class="dropdown-toggle" data-toggle="dropdown">Modules<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="module-collection-base.html">collection-base</a>
						</li>
						
						<li>
							<a href="module-command-object.html">command-object</a>
						</li>
						
						<li>
							<a href="module-command-object-sync.html">command-object-sync</a>
						</li>
						
						<li>
							<a href="dependency-rule.html">common-rules/dependency-rule</a>
						</li>
						
						<li>
							<a href="expression-rule.html">common-rules/expression-rule</a>
						</li>
						
						<li>
							<a href="information-rule.html">common-rules/information-rule</a>
						</li>
						
						<li>
							<a href="is-in-all-roles-rule.html">common-rules/is-in-all-roles-rule</a>
						</li>
						
						<li>
							<a href="is-in-any-role-rule.html">common-rules/is-in-any-role-rule</a>
						</li>
						
						<li>
							<a href="is-in-role-rule.html">common-rules/is-in-role-rule</a>
						</li>
						
						<li>
							<a href="is-not-in-any-role-rule.html">common-rules/is-not-in-any-role-rule</a>
						</li>
						
						<li>
							<a href="is-not-in-role-rule.html">common-rules/is-not-in-role-rule</a>
						</li>
						
						<li>
							<a href="length-is-rule.html">common-rules/length-is-rule</a>
						</li>
						
						<li>
							<a href="max-length-rule.html">common-rules/max-length-rule</a>
						</li>
						
						<li>
							<a href="max-value-rule.html">common-rules/max-value-rule</a>
						</li>
						
						<li>
							<a href="min-length-rule.html">common-rules/min-length-rule</a>
						</li>
						
						<li>
							<a href="min-value-rule.html">common-rules/min-value-rule</a>
						</li>
						
						<li>
							<a href="null-result-option.html">common-rules/null-result-option</a>
						</li>
						
						<li>
							<a href="required-rule.html">common-rules/required-rule</a>
						</li>
						
						<li>
							<a href="dao-base.html">data-access/dao-base</a>
						</li>
						
						<li>
							<a href="dao-builder.html">data-access/dao-builder</a>
						</li>
						
						<li>
							<a href="dao-error.html">data-access/dao-error</a>
						</li>
						
						<li>
							<a href="module-editable-child-collection.html">editable-child-collection</a>
						</li>
						
						<li>
							<a href="module-editable-child-collection-sync.html">editable-child-collection-sync</a>
						</li>
						
						<li>
							<a href="module-editable-child-model.html">editable-child-model</a>
						</li>
						
						<li>
							<a href="module-editable-child-model-sync.html">editable-child-model-sync</a>
						</li>
						
						<li>
							<a href="module-editable-root-model.html">editable-root-model</a>
						</li>
						
						<li>
							<a href="module-editable-root-model-sync.html">editable-root-model-sync</a>
						</li>
						
						<li>
							<a href="module-i18n.html">i18n</a>
						</li>
						
						<li>
							<a href="module-model-base.html">model-base</a>
						</li>
						
						<li>
							<a href="module-read-only-child-collection.html">read-only-child-collection</a>
						</li>
						
						<li>
							<a href="module-read-only-child-collection-sync.html">read-only-child-collection-sync</a>
						</li>
						
						<li>
							<a href="module-read-only-child-model.html">read-only-child-model</a>
						</li>
						
						<li>
							<a href="module-read-only-child-model-sync.html">read-only-child-model-sync</a>
						</li>
						
						<li>
							<a href="module-read-only-root-collection.html">read-only-root-collection</a>
						</li>
						
						<li>
							<a href="module-read-only-root-collection-sync.html">read-only-root-collection-sync</a>
						</li>
						
						<li>
							<a href="module-read-only-root-model.html">read-only-root-model</a>
						</li>
						
						<li>
							<a href="module-read-only-root-model-sync.html">read-only-root-model-sync</a>
						</li>
						
						<li>
							<a href="authorization-action.html">rules/authorization-action</a>
						</li>
						
						<li>
							<a href="authorization-context.html">rules/authorization-context</a>
						</li>
						
						<li>
							<a href="authorization-error.html">rules/authorization-error</a>
						</li>
						
						<li>
							<a href="authorization-result.html">rules/authorization-result</a>
						</li>
						
						<li>
							<a href="authorization-rule.html">rules/authorization-rule</a>
						</li>
						
						<li>
							<a href="broken-rule.html">rules/broken-rule</a>
						</li>
						
						<li>
							<a href="broken-rule-list.html">rules/broken-rule-list</a>
						</li>
						
						<li>
							<a href="broken-rules.html">rules/broken-rules</a>
						</li>
						
						<li>
							<a href="no-access-behavior.html">rules/no-access-behavior</a>
						</li>
						
						<li>
							<a href="result-base.html">rules/result-base</a>
						</li>
						
						<li>
							<a href="rule-base.html">rules/rule-base</a>
						</li>
						
						<li>
							<a href="rule-list.html">rules/rule-list</a>
						</li>
						
						<li>
							<a href="rule-manager.html">rules/rule-manager</a>
						</li>
						
						<li>
							<a href="rule-severity.html">rules/rule-severity</a>
						</li>
						
						<li>
							<a href="validation-context.html">rules/validation-context</a>
						</li>
						
						<li>
							<a href="validation-error.html">rules/validation-error</a>
						</li>
						
						<li>
							<a href="validation-result.html">rules/validation-result</a>
						</li>
						
						<li>
							<a href="validation-rule.html">rules/validation-rule</a>
						</li>
						
						<li>
							<a href="argument-error.html">shared/argument-error</a>
						</li>
						
						<li>
							<a href="config-helper.html">shared/config-helper</a>
						</li>
						
						<li>
							<a href="config-reader.html">shared/config-reader</a>
						</li>
						
						<li>
							<a href="configuration-error.html">shared/configuration-error</a>
						</li>
						
						<li>
							<a href="data-context.html">shared/data-context</a>
						</li>
						
						<li>
							<a href="data-store.html">shared/data-store</a>
						</li>
						
						<li>
							<a href="ensure-argument.html">shared/ensure-argument</a>
						</li>
						
						<li>
							<a href="enumeration.html">shared/enumeration</a>
						</li>
						
						<li>
							<a href="enumeration-error.html">shared/enumeration-error</a>
						</li>
						
						<li>
							<a href="extension-manager.html">shared/extension-manager</a>
						</li>
						
						<li>
							<a href="extension-manager-base.html">shared/extension-manager-base</a>
						</li>
						
						<li>
							<a href="extension-manager-sync.html">shared/extension-manager-sync</a>
						</li>
						
						<li>
							<a href="model-error.html">shared/model-error</a>
						</li>
						
						<li>
							<a href="model-state.html">shared/model-state</a>
						</li>
						
						<li>
							<a href="not-implemented-error.html">shared/not-implemented-error</a>
						</li>
						
						<li>
							<a href="property-flag.html">shared/property-flag</a>
						</li>
						
						<li>
							<a href="property-info.html">shared/property-info</a>
						</li>
						
						<li>
							<a href="property-manager.html">shared/property-manager</a>
						</li>
						
						<li>
							<a href="transfer-context.html">shared/transfer-context</a>
						</li>
						
						<li>
							<a href="user-info.html">shared/user-info</a>
						</li>
						

					</ul>
				</li>
				
				<li class="dropdown">
					<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="bo.dataTypes.Boolean.html">bo.dataTypes.Boolean</a>
						</li>
						
						<li>
							<a href="bo.dataTypes.DataType.html">bo.dataTypes.DataType</a>
						</li>
						
						<li>
							<a href="bo.dataTypes.DataTypeError.html">bo.dataTypes.DataTypeError</a>
						</li>
						
						<li>
							<a href="bo.dataTypes.DateTime.html">bo.dataTypes.DateTime</a>
						</li>
						
						<li>
							<a href="bo.dataTypes.Decimal.html">bo.dataTypes.Decimal</a>
						</li>
						
						<li>
							<a href="bo.dataTypes.Integer.html">bo.dataTypes.Integer</a>
						</li>
						
						<li>
							<a href="bo.dataTypes.Text.html">bo.dataTypes.Text</a>
						</li>
						
						<li>
							<a href="command..html">dataSource   string      The name of the data source.modelPath    string      The path of the model definition.daoBuilder   string      Returns the data access object of the model for the data source.toDto        function    Convert model instance to data transfer object.fromDto      function    Convert data transfer object to model instance.toCto        function    Convert model instance to client transfer object.fromCto      function    Convert client transfer object to model instance.dataCreate   function    Returns the property values of a new instance from the data source.dataFetch    function    Returns the property values of an existing instance from the data source.dataInsert   function    Saves a new instance in the data source.dataUpdate   function    Saves an existing instance in the data source.dataRemove   function    Deletes an existing instance from the data source.dataExecute  function    Executes a server side command.</a>
						</li>
						

					</ul>
				</li>
				
			</ul>
		</div>
	</div>

	<div class="row-fluid">

		
			<div class="span12">
				
				<div id="main">
					


		<h1 class="page-title">Source: editable-root-model-sync.js</h1>
    
<section>
	<article>
		<pre
			class="sunlight-highlight-javascript linenums">/**
 * Synchronous editable root model module.
 * @module editable-root-model-sync
 */
'use strict';

var util = require('util');
var ModelBase = require('./model-base.js');
var config = require('./shared/config-reader.js');
var ensureArgument = require('./shared/ensure-argument.js');
var ModelError = require('./shared/model-error.js');

var DataType = require('./data-types/data-type.js');
var Enumeration = require('./shared/enumeration.js');
var PropertyInfo = require('./shared/property-info.js');
var PropertyManager = require('./shared/property-manager.js');
var ExtensionManagerSync = require('./shared/extension-manager-sync.js');
var DataStore = require('./shared/data-store.js');
var DataContext = require('./shared/data-context.js');
var TransferContext = require('./shared/transfer-context.js');
var RuleManager = require('./rules/rule-manager.js');
var BrokenRuleList = require('./rules/broken-rule-list.js');
var RuleSeverity = require('./rules/rule-severity.js');
var Action = require('./rules/authorization-action.js');
var AuthorizationContext = require('./rules/authorization-context.js');
var ValidationContext = require('./rules/validation-context.js');

var MODEL_STATE = require('./shared/model-state.js');

var EditableRootModelSyncCreator = function(properties, rules, extensions) {

  properties = ensureArgument.isMandatoryType(properties, PropertyManager,
      'c_manType', 'EditableRootModelSyncCreator', 'properties');
  rules = ensureArgument.isMandatoryType(rules, RuleManager,
      'c_manType', 'EditableRootModelSyncCreator', 'rules');
  extensions = ensureArgument.isMandatoryType(extensions, ExtensionManagerSync,
      'c_manType', 'EditableRootModelSyncCreator', 'extensions');

  var EditableRootModelSync = function() {

    var self = this;
    var state = null;
    var isDirty = false;
    var store = new DataStore();
    var brokenRules = new BrokenRuleList(properties.name);
    var isValidated = false;
    var dao = null;
    var user = null;
    var dataContext = null;
    var xferContext = null;

    // Set up business rules.
    rules.initialize(config.noAccessBehavior);

    // Get data access object.
    if (extensions.daoBuilder)
      dao = extensions.daoBuilder(extensions.dataSource, extensions.modelPath);
    else
      dao = config.daoBuilder(extensions.dataSource, extensions.modelPath);

    // Get principal.
    user = config.getUser();

    //region Transfer object methods

    function getTransferContext () {
      if (!xferContext)
        xferContext = new TransferContext(properties.toArray(), getPropertyValue, setPropertyValue);
      return xferContext;
    }

    function baseToDto() {
      var dto = {};
      properties.filter(function (property) {
        return property.isOnDto;
      }).forEach(function (property) {
        dto[property.name] = getPropertyValue(property);
      });
      return dto;
    }

    function toDto () {
      if (extensions.toDto)
        return extensions.toDto.call(self, getTransferContext());
      else
        return baseToDto();
    }

    function baseFromDto(dto) {
      properties.filter(function (property) {
        return property.isOnDto;
      }).forEach(function (property) {
        if (dto.hasOwnProperty(property.name) && typeof dto[property.name] !== 'function') {
          setPropertyValue(property, dto[property.name]);
        }
      });
    }

    function fromDto (dto) {
      if (extensions.fromDto)
        extensions.fromDto.call(self, getTransferContext(), dto);
      else
        baseFromDto(dto);
    }

    function baseToCto() {
      var cto = {};
      properties.filter(function (property) {
        return property.isOnCto;
      }).forEach(function (property) {
        cto[property.name] = readPropertyValue(property);
      });
      return cto;
    }

    this.toCto = function () {
      var cto = {};
      if (extensions.toCto)
        cto = extensions.toCto.call(self, getTransferContext());
      else
        cto = baseToCto();

      properties.children().forEach(function(property) {
        var child = getPropertyValue(property);
        cto[property.name] = child.toCto();
      });
      return cto;
    };

    function baseFromCto(cto) {
      if (cto && typeof cto === 'object') {
        properties.filter(function (property) {
          return property.isOnCto;
        }).forEach(function (property) {
          if (cto.hasOwnProperty(property.name) && typeof cto[property.name] !== 'function') {
            writePropertyValue(property, cto[property.name]);
          }
        });
      }
    }

    this.fromCto = function (cto) {
      if (extensions.fromCto)
        extensions.fromCto.call(self, getTransferContext(), cto);
      else
        baseFromCto(cto);

      properties.children().forEach(function (property) {
        var child = getPropertyValue(property);
        if (cto[property.name]) {
          child.fromCto(cto[property.name]);
        }
      });
    };

    //endregion

    //region Mark object state

    /*
     * From:         To:  | pri | cre | cha | mfr | rem
     * -------------------------------------------------
     * NULL               |  +  |  +  |  N  |  N  |  N
     * -------------------------------------------------
     * pristine           |  o  |  -  |  +  |  +  |  -
     * -------------------------------------------------
     * created            |  +  |  o  |  o  | (-) |  +
     * -------------------------------------------------
     * changed            |  +  |  -  |  o  |  +  |  -
     * -------------------------------------------------
     * markedForRemoval   |  -  |  -  |  o  |  o  |  +
     * -------------------------------------------------
     * removed            |  -  |  -  |  -  |  -  |  o
     * -------------------------------------------------
     *
     * Explanation:
     *   +  :  possible transition
     *   -  :  not allowed transition, throws exception
     *   o  :  no change, no action
     *   N  :  impossible start up, throws exception
     */

    function markAsPristine() {
      if (state === MODEL_STATE.markedForRemoval || state === MODEL_STATE.removed)
        illegal(MODEL_STATE.pristine);
      else if (state !== MODEL_STATE.pristine) {
        state = MODEL_STATE.pristine;
        isDirty = false;
      }
    }

    function markAsCreated() {
      if (state === null) {
        state = MODEL_STATE.created;
        isDirty = true;
      }
      else if (state !== MODEL_STATE.created)
        illegal(MODEL_STATE.created);
    }

    function markAsChanged(itself) {
      if (state === MODEL_STATE.pristine) {
        state = MODEL_STATE.changed;
        isDirty = isDirty || itself;
        isValidated = false;
      }
      else if (state === MODEL_STATE.removed)
        illegal(MODEL_STATE.changed);
    }

    function markForRemoval() {
      if (state === MODEL_STATE.pristine || state === MODEL_STATE.changed) {
        state = MODEL_STATE.markedForRemoval;
        isDirty = true;
        propagateRemoval(); // down to children
      }
      else if (state === MODEL_STATE.created)
        state = MODEL_STATE.removed;
      else if (state !== MODEL_STATE.markedForRemoval)
        illegal(MODEL_STATE.markedForRemoval);
    }

    function markAsRemoved() {
      if (state === MODEL_STATE.created || state === MODEL_STATE.markedForRemoval) {
        state = MODEL_STATE.removed;
        isDirty = false;
      }
      else if (state !== MODEL_STATE.removed)
        illegal(MODEL_STATE.removed);
    }

    function illegal(newState) {
      throw new ModelError('transition',
        (state == null ? 'NULL' : MODEL_STATE.getName(state)),
        MODEL_STATE.getName(newState));
    }

    this.childHasChanged = function() {
      markAsChanged(false);
    };

    function propagateRemoval() {
      properties.children().forEach(function(property) {
        var child = getPropertyValue(property);
        child.remove();
      });
    }

    //endregion

    //region Show object state

    this.getModelState = function () {
      return MODEL_STATE.getName(state);
    };

    Object.defineProperty(this, 'isNew', {
      get: function () {
        return state === MODEL_STATE.created;
      }
    });

    Object.defineProperty(this, 'isDirty', {
      get: function () {
        return state === MODEL_STATE.created ||
            state === MODEL_STATE.changed ||
            state === MODEL_STATE.markedForRemoval;
      }
    });

    Object.defineProperty(this, 'isSelfDirty', {
      get: function () {
        return isDirty;
      }
    });

    Object.defineProperty(this, 'isDeleted', {
      get: function () {
        return state === MODEL_STATE.markedForRemoval;
      }
    });

    Object.defineProperty(this, 'isSavable', {
      get: function () {
        var auth;
        if (self.isDeleted())
          auth = canDo(Action.removeObject);
        else if (self.isNew())
          auth = canDo(Action.createObject);
        else
          auth = canDo(Action.updateObject);
        return auth && self.isDirty() && self.isValid();
      }
    });

    //endregion

    //region Permissions

    function getAuthorizationContext(action, targetName) {
      return new AuthorizationContext(action, targetName || '', user, brokenRules);
    }

    function canBeRead (property) {
      return rules.hasPermission(
          getAuthorizationContext(Action.readProperty, property.name)
      );
    }

    function canBeWritten (property) {
      return rules.hasPermission(
          getAuthorizationContext(Action.writeProperty, property.name)
      );
    }

    function canDo (action) {
      return rules.hasPermission(
          getAuthorizationContext(action)
      );
    }

    function canExecute (methodName) {
      return rules.hasPermission(
          getAuthorizationContext(Action.executeMethod, methodName)
      );
    }

    //endregion

    //region Child methods

    function fetchChildren(dto) {
      properties.children().forEach(function(property) {
        var child = getPropertyValue(property);
        child.fetch(dto[property.name]);
      });
    }

    function insertChildren() {
      properties.children().forEach(function(property) {
        var child = getPropertyValue(property);
        child.save();
      });
    }

    function updateChildren() {
      properties.children().forEach(function(property) {
        var child = getPropertyValue(property);
        child.save();
      });
    }

    function removeChildren() {
      properties.children().forEach(function(property) {
        var child = getPropertyValue(property);
        child.save();
      });
    }

    //endregion

    //region Data portal methods

    function getDataContext() {
      if (!dataContext)
        dataContext = new DataContext(
            dao, user, false, properties.toArray(), getPropertyValue, setPropertyValue
        );
      return dataContext.setSelfDirty(isDirty);
    }

    function data_create () {
      if (extensions.dataCreate) {
        // Custom create.
        extensions.dataCreate.call(self, getDataContext());
      } else {
        // Standard create.
        dao.checkMethod('create');
        var dto = dao.create();
        fromDto.call(self, dto);
      }
      markAsCreated();
    }

    function data_fetch (filter, method) {
      // Check permissions.
      if (method === 'fetch' ? canDo(Action.fetchObject) : canExecute(method)) {
        var dto = null;
        if (extensions.dataFetch) {
          // Custom fetch.
          dto = extensions.dataFetch.call(self, getDataContext(), filter, method);
        } else {
          // Standard fetch.
          // Root element fetches data from repository.
          dao.checkMethod(method);
          dto = dao[method](filter);
          fromDto.call(self, dto);
        }
        // Fetch children as well.
        fetchChildren(dto);
        markAsPristine();
      }
    }

    function data_insert () {
      // Check permissions.
      if (canDo(Action.createObject)) {
        if (extensions.dataInsert) {
          // Custom insert.
          extensions.dataInsert.call(self, getDataContext());
        } else {
          // Standard insert.
          var dto = toDto.call(self);
          dao.checkMethod('insert');
          dto = dao.insert(dto);
          fromDto.call(self, dto);
        }
        // Insert children as well.
        insertChildren();
        markAsPristine();
      }
    }

    function data_update () {
      // Check permissions.
      if (canDo(Action.updateObject)) {
        if (extensions.dataUpdate) {
          // Custom update.
          extensions.dataUpdate.call(self, getDataContext());
        } else if (isDirty) {
          // Standard update.
          var dto = toDto.call(self);
          dao.checkMethod('update');
          dto = dao.update(dto);
          fromDto.call(self, dto);
        }
        // Update children as well.
        updateChildren();
        markAsPristine();
      }
    }

    function data_remove () {
      // Check permissions.
      if (canDo(Action.removeObject)) {
        // Remove children first.
        removeChildren();
        if (extensions.dataRemove) {
          // Custom removal.
          extensions.dataRemove.call(self, getDataContext());
        } else {
          // Standard removal.
          var filter = properties.getKey(getPropertyValue);
          dao.checkMethod('remove');
          dao.remove(filter);
        }
        markAsRemoved();
      }
    }

    //endregion

    //region Actions

    this.create = function() {
      data_create();
    };

    this.fetch = function(filter, method) {
      data_fetch(filter, method || 'fetch');
    };

    this.save = function() {
      if (this.isValid()) {
        switch (state) {
          case MODEL_STATE.created:
            data_insert();
            return this;
          case MODEL_STATE.changed:
            data_update();
            return this;
          case MODEL_STATE.markedForRemoval:
            data_remove();
            return null;
          default:
            return this;
        }
      }
    };

    this.remove = function() {
      markForRemoval();
    };

    //endregion

    //region Validation

    this.isValid = function() {
      if (!isValidated)
        this.checkRules();

      return brokenRules.isValid();
    };

    this.checkRules = function() {
      brokenRules.clear();

      properties.forEach(function(property) {
        validate(property);
      });
      isValidated = true;
    };

    function validate(property) {
      rules.validate(property, new ValidationContext(getPropertyValue, brokenRules));
    }

    this.getBrokenRules = function(namespace) {
      return brokenRules.output(namespace);
    };

    //endregion

    //region Properties

    function getPropertyValue(property) {
      return store.getValue(property);
    }

    function setPropertyValue(property, value) {
      if (store.setValue(property, value))
        markAsChanged(true);
    }

    function readPropertyValue(property) {
      if (canBeRead(property))
        return store.getValue(property);
      else
        return null;
    }

    function writePropertyValue(property, value) {
      if (canBeWritten(property)) {
        if (store.setValue(property, value))
          markAsChanged(true);
      }
    }

    properties.map(function(property) {

      if (property.type instanceof DataType) {
        // Normal property
        store.initValue(property);

        Object.defineProperty(self, property.name, {
          get: function () {
            return readPropertyValue(property);
          },
          set: function (value) {
            if (property.isReadOnly)
              throw new ModelError('readOnly', properties.name , property.name);
            writePropertyValue(property, value);
          },
          enumerable: true
        });

      } else {
        // Child item/collection
        if (property.type.create) // Item
          store.initValue(property, property.type.create(self));
        else                      // Collection
          store.initValue(property, new property.type(self));

        Object.defineProperty(self, property.name, {
          get: function () {
            return readPropertyValue(property);
          },
          set: function (value) {
            throw new ModelError('readOnly', properties.name , property.name);
          },
          enumerable: false
        });
      }
    });

    //endregion

    // Immutable object.
    Object.freeze(this);
  };
  util.inherits(EditableRootModelSync, ModelBase);

  EditableRootModelSync.prototype.name = properties.name;

  //region Factory methods

  EditableRootModelSync.create = function() {
    var instance = new EditableRootModelSync();
    instance.create();
    return instance;
  };

  EditableRootModelSync.fetch = function(filter, method) {
    var instance = new EditableRootModelSync();
    instance.fetch(filter, method);
    return instance;
  };

  //endregion

  return EditableRootModelSync;
};

module.exports = EditableRootModelSyncCreator;
</pre>
	</article>
</section>





				</div>

				<div class="clearfix"></div>
				<footer>
					
					
		<span class="copyright">
		DocStrap Copyright © 2012-2014 The contributors to the JSDoc3 and DocStrap projects.
		</span>
					<br />
					
		<span class="jsdoc-message">
		Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.2</a>
		on Thu Jan 15th 2015 using the <a
			href="https://github.com/terryweiss/docstrap">DocStrap template</a>.
		</span>
				</footer>
			</div>

			
			<br clear="both">
		</div>

	</div>
	<!--<script src="scripts/sunlight.js"></script>-->
	<script src="scripts/docstrap.lib.js"></script>
	<script src="scripts/bootstrap-dropdown.js"></script>
	<script src="scripts/toc.js"></script>

	<script>
		$( function () {
			$( "[id*='$']" ).each( function () {
				var $this = $( this );

				$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
			} );

			$( "#toc" ).toc( {
				anchorName  : function ( i, heading, prefix ) {
					return $( heading ).attr( "id" ) || ( prefix + i );
				},
				selectors   : "h1,h2,h3,h4",
				showAndHide : false,
				scrollTo    : "100px"
			} );

			$( "#toc>ul" ).addClass( "nav nav-pills nav-stacked" );
			$( "#main span[id^='toc']" ).addClass( "toc-shim" );
			$( '.dropdown-toggle' ).dropdown();
//			$( ".tutorial-section pre, .readme-section pre" ).addClass( "sunlight-highlight-javascript" ).addClass( "linenums" );

			$( ".tutorial-section pre, .readme-section pre" ).each( function () {
				var $this = $( this );

				var example = $this.find( "code" );
				exampleText = example.html();
				var lang = /{@lang (.*?)}/.exec( exampleText );
				if ( lang && lang[1] ) {
					exampleText = exampleText.replace( lang[0], "" );
					example.html( exampleText );
					lang = lang[1];
				} else {
					lang = "javascript";
				}

				if ( lang ) {

					$this
						.addClass( "sunlight-highlight-" + lang )
						.addClass( "linenums" )
						.html( example.html() );

				}
			} );

			Sunlight.highlightAll( {
				lineNumbers : true,
				showMenu : true,
				enableDoclinks : true
			} );
		} );
	 </script>



	<!--Navigation and Symbol Display-->
	


	<!--Google Analytics-->
	

</body>
</html>
